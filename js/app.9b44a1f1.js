(function(t){function e(e){for(var a,i,c=e[0],s=e[1],u=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,c=1;c<r.length;c++){var s=r[c];0!==n[s]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/tages-jump/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"2e6e":function(t,e,r){t.exports=r.p+"img/arrow-down.af4571af.svg"},"47c6":function(t,e,r){},"4eee":function(t,e,r){t.exports=r.p+"img/heart.d94fa37f.svg"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"catalog"},[r("div",{staticClass:"container"},[t._m(0),r("h1",{staticClass:"catalog__title"},[t._v("Комплекты стеллажных систем")]),r("div",{staticClass:"catalog__filters"},[r("div",{staticClass:"catalog__filter"},[r("div",{staticClass:"catalog__filter-label"},[t._v("Сортировать по:")]),t.materials.length?r("Select",{attrs:{options:t.byPrice},on:{change:t.changePriceSortHandler}}):t._e()],1),r("div",{staticClass:"catalog__filter"},[r("div",{staticClass:"catalog__filter-label"},[t._v("Материал")]),t.materials.length?r("Select",{attrs:{options:t.materials},on:{change:t.changeMaterialHandler}}):t._e()],1)]),t.products.length?r("div",{staticClass:"catalog__items"},t._l(t.filteredProducts,(function(t){return r("CatalogItem",{key:t.id,attrs:{product:t}})})),1):t._e()])])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"breadcrumbs"},[r("a",{attrs:{href:"#"}},[t._v("Главная")]),r("span",[t._v("/")]),r("a",{attrs:{href:"#"}},[t._v("Системы хранения")]),r("span",[t._v("/")]),r("a",{staticClass:"active",attrs:{href:"#"}},[t._v("Комплекты стеллажных систем")])])}],i=(r("4de4"),r("96cf"),r("1da1")),c=r("5530"),s=r("2f62"),u=r("8e5f"),l=r.n(u),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"catalog-item"},[a("img",{attrs:{src:r("bb6e")("./"+t.product.image.url),alt:""}}),a("div",{staticClass:"catalog-item__bottom"},[t.product.price.old_price?a("span",{staticClass:"catalog-item__sale"},[t._v("Скидка")]):t._e(),a("div",{staticClass:"catalog-item__info"},[t.product.code?a("div",{staticClass:"catalog__item-code"},[t._v(t._s(t.product.code))]):t._e(),a("div",{staticClass:"catalog__item-name"},[t._v(t._s(t.product.name))]),a("div",{staticClass:"catalog__item-price"},[t.product.price.old_price?a("span",{staticClass:"catalog__item-price-old"},[t._v(" "+t._s(Math.floor(t.product.price.old_price))+"₽ ")]):t._e(),a("span",{staticClass:"catalog__item-price-current"},[t._v(t._s(Math.floor(t.product.price.current_price))+"₽")])])]),a("div",{staticClass:"catalog-item__buttons"},[t.inCart?t._e():a("button",{on:{click:t.addToCartHandler}},[a("img",{attrs:{src:r("d176"),alt:""}})]),t.inCart?a("button",{on:{click:t.removeFromCartHandler}},[a("img",{attrs:{src:r("94f7"),alt:""}})]):t._e(),t.inFavorite?t._e():a("button",{on:{click:t.addToFavoriteHandler}},[a("img",{attrs:{src:r("4eee"),alt:""}})]),t.inFavorite?a("button",{staticClass:"catalog__item-in-favorite",on:{click:t.removeFromFavoriteHandler}},[a("img",{attrs:{src:r("5d16"),alt:""}})]):t._e()])])])},f=[],p={props:{product:Object},data:function(){return{inCart:!1,inFavorite:!1}},methods:{addToCartHandler:function(){this.$store.dispatch("addToCart",this.product),this.inCart=!0},removeFromCartHandler:function(){this.$store.dispatch("removeFromCart",this.product.id),this.inCart=!1},addToFavoriteHandler:function(){this.$store.dispatch("addToFavorite",this.product),this.inFavorite=!0},removeFromFavoriteHandler:function(){this.$store.dispatch("removeFromFavorite",this.product.id),this.inFavorite=!1}}},m=p,v=(r("9408"),r("2877")),g=Object(v["a"])(m,d,f,!1,null,null,null),h=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select",class:{opened:t.opened}},[a("div",{staticClass:"select__picked",on:{click:function(e){t.opened=!t.opened}}},[a("span",[t._v(t._s(t.selected))]),a("img",{attrs:{src:r("2e6e"),alt:""}})]),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],staticClass:"select__options"},t._l(t.options,(function(e){return a("li",{key:e.id,attrs:{"data-id":e.id,"data-text":e.name},on:{click:function(r){return t.changeSelected(e.id,r)}}},[t._v(" "+t._s(e.name))])})),0)])},b=[],C=(r("b0c0"),{props:{options:Array},data:function(){return{opened:!1,selected:this.options[0].name}},methods:{changeSelected:function(t,e){this.selected=e.target.dataset.text,this.opened=!1,this.$emit("change",t)}},created:function(){var t=this,e=function(e){return t.opened=t.$el.contains(e.target)&&t.opened};document.addEventListener("click",e),this.$on("hook:beforeDestroy",(function(){return document.removeEventListener("click",e)}))}}),j=C,x=(r("6d3f"),Object(v["a"])(j,_,b,!1,null,null,null)),y=x.exports,w={name:"App",data:function(){return{priceSort:"ascending",materialId:2,byPrice:[{name:"Цена по возрастанию",id:"ascending"},{name:"Цена по убыванию",id:"descending"}],catalogKey:Date.now()}},components:{CatalogItem:h,Multiselect:l.a,Select:y},computed:Object(c["a"])(Object(c["a"])({},Object(s["b"])(["products","materials"])),{},{filteredProducts:function(){var t=this;return this.products.filter((function(e){return+e.material===+t.materialId})).sort((function(e,r){return"ascending"===t.priceSort?e.price["current_price"]-r.price["current_price"]:r.price["current_price"]-e.price["current_price"]}))}}),methods:{changeMaterialHandler:function(t){this.materialId=t},changePriceSortHandler:function(t){this.priceSort=t}},beforeMount:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchProducts");case 2:return e.next=4,t.$store.dispatch("fetchMaterials");case 4:case"end":return e.stop()}}),e)})))()}},O=w,F=(r("5c0b"),Object(v["a"])(O,n,o,!1,null,null,null)),P=F.exports,k=(r("d3b7"),r("99af"),r("2909")),S={state:{cart:[]},mutations:{addProduct:function(t,e){t.cart=[].concat(Object(k["a"])(t.cart),[e]),localStorage.setItem("cart",JSON.stringify(t.cart))},removeProduct:function(t,e){t.cart=t.cart.filter((function(t){return t.id!==e})),localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{addToCart:function(t,e){var r=t.commit;r("addProduct",e)},removeFromCart:function(t,e){var r=t.commit;r("removeProduct",e)}}},M={state:{favorite:[]},mutations:{addProductToFavorite:function(t,e){t.favorite=[].concat(Object(k["a"])(t.favorite),[e]),localStorage.setItem("favorite",JSON.stringify(t.favorite))},removeProductFromFavorite:function(t,e){t.favorite=t.favorite.filter((function(t){return t.id!==e})),localStorage.setItem("favorite",JSON.stringify(t.favorite))}},actions:{addToFavorite:function(t,e){var r=t.commit;r("addProductToFavorite",e)},removeFromFavorite:function(t,e){var r=t.commit;r("removeProductFromFavorite",e)}}};a["a"].use(s["a"]);var T=new s["a"].Store({state:{products:[],materials:[]},mutations:{setMaterials:function(t,e){t.materials=e},setProducts:function(t,e){t.products=e}},actions:{fetchProducts:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,fetch("items.json");case 3:return a=e.sent,e.next=6,a.json();case 6:a=e.sent,r("setProducts",a);case 8:case"end":return e.stop()}}),e)})))()},fetchMaterials:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,fetch("materials.json");case 3:return a=e.sent,e.next=6,a.json();case 6:a=e.sent,r("setMaterials",a);case 8:case"end":return e.stop()}}),e)})))()},filterByPrice:function(t,e){var r=t.commit;r("sortByPrice",e)}},getters:{products:function(t){return t.products},materials:function(t){return t.materials}},modules:{cart:S,favorite:M}});a["a"].config.productionTip=!1,new a["a"]({store:T,render:function(t){return t(P)}}).$mount("#app")},"59c8":function(t,e,r){t.exports=r.p+"img/door-handle.901f5d09.jpg"},"5c0b":function(t,e,r){"use strict";r("9c0c")},"5d16":function(t,e,r){t.exports=r.p+"img/heart-checked.f2610513.svg"},"6d3f":function(t,e,r){"use strict";r("e39c")},9408:function(t,e,r){"use strict";r("47c6")},"94f7":function(t,e,r){t.exports=r.p+"img/checked.fd3e9dd2.svg"},"9c0c":function(t,e,r){},bb6e:function(t,e,r){var a={"./arrow-down.svg":"2e6e","./cart.svg":"d176","./checked.svg":"94f7","./door-handle.jpg":"59c8","./heart-checked.svg":"5d16","./heart.svg":"4eee","./stainless-handle.jpg":"f600","./standart-loops.jpg":"f130","./stopper-loops.jpg":"eb64","./Каталог.png":"f71d"};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="bb6e"},d176:function(t,e,r){t.exports=r.p+"img/cart.f05a9fd7.svg"},e39c:function(t,e,r){},eb64:function(t,e,r){t.exports=r.p+"img/stopper-loops.97cc5733.jpg"},f130:function(t,e,r){t.exports=r.p+"img/standart-loops.8f02c9ed.jpg"},f600:function(t,e,r){t.exports=r.p+"img/stainless-handle.f2c58433.jpg"},f71d:function(t,e,r){t.exports=r.p+"img/Каталог.6ccb602b.png"}});
//# sourceMappingURL=app.9b44a1f1.js.map